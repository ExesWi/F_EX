# –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: Navigation & Search Layer

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Å–ª–æ—è](#–æ–±–∑–æ—Ä-—Å–ª–æ—è)
2. [CodeIndexer - –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∫–æ–¥–∞](#codeindexer---–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è-–∫–æ–¥–∞)
3. [RecentFilesManager - –ù–µ–¥–∞–≤–Ω–∏–µ —Ñ–∞–π–ª—ã](#recentfilesmanager---–Ω–µ–¥–∞–≤–Ω–∏–µ-—Ñ–∞–π–ª—ã)
4. [Go to Class/Symbol/File - –ù–∞–≤–∏–≥–∞—Ü–∏—è](#go-to-classsymbolfile---–Ω–∞–≤–∏–≥–∞—Ü–∏—è)
5. [Find in Files - –ü–æ–∏—Å–∫ –ø–æ –ø—Ä–æ–µ–∫—Ç—É](#find-in-files---–ø–æ–∏—Å–∫-–ø–æ-–ø—Ä–æ–µ–∫—Ç—É)
6. [Find Usages - –ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π](#find-usages---–ø–æ–∏—Å–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π)
7. [Go to Definition - –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é](#go-to-definition---–ø–µ—Ä–µ—Ö–æ–¥-–∫-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é)
8. [Action Search - –ü–æ–∏—Å–∫ –¥–µ–π—Å—Ç–≤–∏–π](#action-search---–ø–æ–∏—Å–∫-–¥–µ–π—Å—Ç–≤–∏–π)
9. [–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#—Å—Ü–µ–Ω–∞—Ä–∏–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
10. [–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è](#–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–∏-—É–ª—É—á—à–µ–Ω–∏—è)

---

## –û–±–∑–æ—Ä —Å–ª–æ—è

**Navigation & Search Layer** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–±—ã—Å—Ç—Ä—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é** –ø–æ –∫–æ–¥—É –∏ **–ø–æ–∏—Å–∫** –≤ –ø—Ä–æ–µ–∫—Ç–µ:

- ‚úÖ **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∫–æ–¥–∞** - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –∫–ª–∞—Å—Å–æ–≤, –º–µ—Ç–æ–¥–æ–≤, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- ‚úÖ **Go to Class/Symbol/File** - –ø–µ—Ä–µ—Ö–æ–¥ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –∫–æ–¥–∞
- ‚úÖ **Find in Files** - –ø–æ–∏—Å–∫ —Ç–µ–∫—Å—Ç–∞ –ø–æ –≤—Å–µ–º—É –ø—Ä–æ–µ–∫—Ç—É
- ‚úÖ **Find Usages** - –ø–æ–∏—Å–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π —Å–∏–º–≤–æ–ª–∞
- ‚úÖ **Go to Definition** - –ø–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é (Ctrl+Click)
- ‚úÖ **Recent Files** - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–¥–∞–≤–Ω–æ –æ—Ç–∫—Ä—ã—Ç—ã–º —Ñ–∞–π–ª–∞–º
- ‚úÖ **Action Search** - –ø–æ–∏—Å–∫ –¥–µ–π—Å—Ç–≤–∏–π IDE

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–ª–æ—è:

```
Navigation & Search Layer
‚îú‚îÄ‚îÄ CodeIndexer.java          # –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∫–æ–¥–∞
‚îú‚îÄ‚îÄ RecentFilesManager.java   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–∞–≤–Ω–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏
‚îî‚îÄ‚îÄ IdeController.java        # UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  IdeController  ‚îÇ
‚îÇ  (UI Controls)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚Üí CodeIndexer ‚îÄ‚îÄ‚Üí Index ‚îÄ‚îÄ‚Üí Fast Lookup
         ‚îÇ
         ‚îú‚îÄ‚Üí RecentFilesManager ‚îÄ‚îÄ‚Üí Recent Files List
         ‚îÇ
         ‚îî‚îÄ‚Üí Search Methods ‚îÄ‚îÄ‚Üí File System Walk ‚îÄ‚îÄ‚Üí Results
```

---

## CodeIndexer - –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∫–æ–¥–∞

–§–∞–π–ª: `src/main/java/com/example/f_ex/CodeIndexer.java`

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**CodeIndexer** —Å–æ–∑–¥–∞–µ—Ç **in-memory –∏–Ω–¥–µ–∫—Å** –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–∞

```java
public class CodeIndexer {
    private final Path projectRoot;
    private final Map<String, List<CodeElement>> index;  // –ò–º—è ‚Üí —ç–ª–µ–º–µ–Ω—Ç—ã
}
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–Ω–¥–µ–∫—Å–∞:**

- `String` (lowercase) - –∏–º—è —ç–ª–µ–º–µ–Ω—Ç–∞ (–∫–ª–∞—Å—Å, –º–µ—Ç–æ–¥, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- `List<CodeElement>` - —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)

**–ü—Ä–∏–º–µ—Ä:**

```java
index = {
    "main" ‚Üí [
        CodeElement(name="main", type=METHOD, file=Main.java, line=10),
        CodeElement(name="main", type=METHOD, file=Utils.java, line=5)
    ],
    "calculator" ‚Üí [
        CodeElement(name="Calculator", type=CLASS, file=Calculator.java, line=1)
    ]
}
```

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∫–ª–∞—Å—Å—ã

#### CodeElementType

```java
public enum CodeElementType {
    CLASS,      // –ö–ª–∞—Å—Å
    INTERFACE,  // –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    METHOD,     // –ú–µ—Ç–æ–¥
    VARIABLE    // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
}
```

#### CodeElement

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –∫–æ–¥–∞.

```java
public static class CodeElement {
    private final String name;           // –ò–º—è —ç–ª–µ–º–µ–Ω—Ç–∞
    private final CodeElementType type; // –¢–∏–ø
    private final Path file;            // –§–∞–π–ª
    private final String packageName;    // Package
    private final int line;             // –ù–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ (1-based)
}
```

**–ú–µ—Ç–æ–¥—ã:**

- `getName()` - –∏–º—è —ç–ª–µ–º–µ–Ω—Ç–∞
- `getType()` - —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞
- `getFile()` - —Ñ–∞–π–ª, –≥–¥–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
- `getPackageName()` - package
- `getLine()` - –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏
- `getDisplayName()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è –¥–ª—è UI

**–ü—Ä–∏–º–µ—Ä `getDisplayName()`:**

```java
public String getDisplayName() {
    String typeIcon = switch (type) {
        case CLASS -> "C";
        case INTERFACE -> "I";
        case METHOD -> "M";
        case VARIABLE -> "V";
    };
    if (packageName != null && !packageName.isEmpty()) {
        return typeIcon + " " + name + " (" + packageName + ")";
    }
    return typeIcon + " " + name;
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

- `C Calculator (com.example)` - –∫–ª–∞—Å—Å
- `I Runnable (java.lang)` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `M main` - –º–µ—Ç–æ–¥

### –ú–µ—Ç–æ–¥—ã

#### `indexProject()`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```java
public void indexProject() {
    index.clear();  // –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞
    
    if (projectRoot == null || !Files.isDirectory(projectRoot)) {
        return;
    }
    
    try {
        // –û–±—Ö–æ–¥ –≤—Å–µ—Ö Java —Ñ–∞–π–ª–æ–≤
        Files.walk(projectRoot, 20)
                .filter(Files::isRegularFile)
                .filter(p -> p.toString().endsWith(".java"))
                .filter(p -> !shouldHidePath(p.getParent()))  // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–∫—Ä—ã—Ç—ã–µ –ø–∞–ø–∫–∏
                .forEach(this::indexFile);  // –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
    } catch (IOException e) {
        // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏
    }
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥ –¥–æ –≥–ª—É–±–∏–Ω—ã 20
- ‚úÖ –¢–æ–ª—å–∫–æ `.java` —Ñ–∞–π–ª—ã
- ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å–∫—Ä—ã—Ç—ã–µ –ø–∞–ø–∫–∏ (`build`, `.gradle`, `.idea`, `.git`, –∏ —Ç.–¥.)
- ‚úÖ –û—á–∏—â–∞–µ—Ç —Å—Ç–∞—Ä—ã–π –∏–Ω–¥–µ–∫—Å –ø–µ—Ä–µ–¥ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π

#### `indexFile(Path file)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –æ–¥–∏–Ω Java —Ñ–∞–π–ª.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```java
private void indexFile(Path file) {
    try {
        String content = Files.readString(file, StandardCharsets.UTF_8);
        String packageName = extractPackage(content);
        
        // 1. –ü–æ–∏—Å–∫ –∫–ª–∞—Å—Å–æ–≤
        Matcher classMatcher = CLASS_PATTERN.matcher(content);
        while (classMatcher.find()) {
            String className = classMatcher.group(1);
            int line = lineAt(content, classMatcher.start(1));
            addToIndex(className, CodeElementType.CLASS, file, packageName, line);
        }
        
        // 2. –ü–æ–∏—Å–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
        Matcher interfaceMatcher = INTERFACE_PATTERN.matcher(content);
        while (interfaceMatcher.find()) {
            String interfaceName = interfaceMatcher.group(1);
            int line = lineAt(content, interfaceMatcher.start(1));
            addToIndex(interfaceName, CodeElementType.INTERFACE, file, packageName, line);
        }
        
        // 3. –ü–æ–∏—Å–∫ –º–µ—Ç–æ–¥–æ–≤
        Matcher methodMatcher = METHOD_PATTERN.matcher(content);
        while (methodMatcher.find()) {
            String methodName = methodMatcher.group(methodMatcher.groupCount());
            if (methodName != null && !methodName.equals("class") && !methodName.equals("interface")) {
                int line = lineAt(content, methodMatcher.start(methodMatcher.groupCount()));
                addToIndex(methodName, CodeElementType.METHOD, file, packageName, line);
            }
        }
    } catch (IOException e) {
        // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏
    }
}
```

**Regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**

1. **CLASS_PATTERN:**
   ```regex
   \b(?:public\s+)?(?:final\s+)?(?:abstract\s+)?class\s+(\w+)
   ```
   - –ù–∞—Ö–æ–¥–∏—Ç: `public class Main`, `final class Utils`, `abstract class Base`

2. **INTERFACE_PATTERN:**
   ```regex
   \b(?:public\s+)?interface\s+(\w+)
   ```
   - –ù–∞—Ö–æ–¥–∏—Ç: `public interface Runnable`, `interface Listener`

3. **METHOD_PATTERN:**
   ```regex
   \b(?:public|private|protected)\s+(?:static\s+)?(?:final\s+)?(?:\w+\s+)*(\w+)\s*\([^)]*\)
   ```
   - –ù–∞—Ö–æ–¥–∏—Ç: `public void main(String[] args)`, `private static int calculate()`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –ò–∑–≤–ª–µ–∫–∞–µ—Ç package –∏–∑ —Ñ–∞–π–ª–∞
- ‚úÖ –í—ã—á–∏—Å–ª—è–µ—Ç –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
- ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `class` –≤ –∏–º–µ–Ω–∏ –º–µ—Ç–æ–¥–∞)

#### `extractPackage(String content)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–∑–≤–ª–µ–∫–∞–µ—Ç package –∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞.

```java
private String extractPackage(String content) {
    Pattern pkgPattern = Pattern.compile("package\\s+([\\w.]+);");
    Matcher m = pkgPattern.matcher(content);
    if (m.find()) {
        return m.group(1);
    }
    return "";
}
```

**–ü—Ä–∏–º–µ—Ä:**

```
–í—Ö–æ–¥: "package com.example;"
–í—ã—Ö–æ–¥: "com.example"
```

#### `addToIndex(String name, CodeElementType type, Path file, String packageName, int line)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –≤ –∏–Ω–¥–µ–∫—Å.

```java
private void addToIndex(String name, CodeElementType type, Path file, String packageName, int line) {
    index.computeIfAbsent(name.toLowerCase(), k -> new ArrayList<>())
            .add(new CodeElement(name, type, file, packageName, line));
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç lowercase –∫–ª—é—á –¥–ª—è case-insensitive –ø–æ–∏—Å–∫–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –æ–¥–Ω–∏–º –∏–º–µ–Ω–µ–º (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –º–µ—Ç–æ–¥–æ–≤)

#### `lineAt(String s, int offset)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã—á–∏—Å–ª—è–µ—Ç –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –ø–æ —Å–º–µ—â–µ–Ω–∏—é –≤ —Ç–µ–∫—Å—Ç–µ.

```java
private static int lineAt(String s, int offset) {
    if (s == null || s.isEmpty()) return 1;
    if (offset < 0) return 1;
    int line = 1;
    int max = Math.min(offset, s.length());
    for (int i = 0; i < max; i++) {
        if (s.charAt(i) == '\n') line++;
    }
    return line;
}
```

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

- –ù–∞—á–∏–Ω–∞–µ—Ç —Å —Å—Ç—Ä–æ–∫–∏ 1
- –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ `\n` –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Å–º–µ—â–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä:**

```
–¢–µ–∫—Å—Ç: "line1\nline2\nline3"
offset = 10 (–ø–æ—Å–ª–µ "line2\n")

–†–µ–∑—É–ª—å—Ç–∞—Ç: 2
```

#### `findCompletions(String prefix)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```java
public List<CodeElement> findCompletions(String prefix) {
    if (prefix == null || prefix.isEmpty()) {
        return new ArrayList<>();
    }
    
    String lowerPrefix = prefix.toLowerCase();
    List<CodeElement> results = new ArrayList<>();
    
    // –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞
    for (Map.Entry<String, List<CodeElement>> entry : index.entrySet()) {
        if (entry.getKey().startsWith(lowerPrefix)) {
            results.addAll(entry.getValue());
        }
    }
    
    // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø—É –∏ –∏–º–µ–Ω–∏
    results.sort((a, b) -> {
        int typeCompare = a.getType().compareTo(b.getType());
        if (typeCompare != 0) return typeCompare;
        return a.getName().compareToIgnoreCase(b.getName());
    });
    
    return results;
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ Case-insensitive –ø–æ–∏—Å–∫
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: —Å–Ω–∞—á–∞–ª–∞ –ø–æ —Ç–∏–ø—É (CLASS, INTERFACE, METHOD), –∑–∞—Ç–µ–º –ø–æ –∏–º–µ–Ω–∏
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è (–Ω–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–æ–µ)

**–ü—Ä–∏–º–µ—Ä:**

```
prefix = "calc"

–†–µ–∑—É–ª—å—Ç–∞—Ç:
[
    CodeElement(name="Calculator", type=CLASS, ...),
    CodeElement(name="calculate", type=METHOD, ...),
    CodeElement(name="calculateSum", type=METHOD, ...)
]
```

#### `shouldHidePath(Path path)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω—É–∂–Ω–æ –ª–∏ —Å–∫—Ä—ã—Ç—å –ø—É—Ç—å –æ—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏.

```java
public static boolean shouldHidePath(Path path) {
    if (path == null) return true;
    String name = path.getFileName() != null 
        ? path.getFileName().toString() 
        : path.toString();
    return HIDDEN_DIRS.contains(name) || name.startsWith(".");
}
```

**–°–∫—Ä—ã—Ç—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:**

```java
private static final Set<String> HIDDEN_DIRS = Set.of(
    "build", ".gradle", ".idea", ".git", "out", "bin", 
    ".vscode", "node_modules", ".classpath", ".project"
);
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–ø–∫–∏
- ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø–∞–ø–∫–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å `.`

---

## RecentFilesManager - –ù–µ–¥–∞–≤–Ω–∏–µ —Ñ–∞–π–ª—ã

–§–∞–π–ª: `src/main/java/com/example/f_ex/RecentFilesManager.java`

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**RecentFilesManager** —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ø–∏—Å–∫–æ–º –Ω–µ–¥–∞–≤–Ω–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–∞

```java
final class RecentFilesManager {
    private final int limit;                    // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤
    private final LinkedHashSet<Path> recent;   // –°–ø–∏—Å–æ–∫ –Ω–µ–¥–∞–≤–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `LinkedHashSet` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –º–∏–Ω–∏–º—É–º 5)

### –ú–µ—Ç–æ–¥—ã

#### `markOpened(Path file)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–º–µ—á–∞–µ—Ç —Ñ–∞–π–ª –∫–∞–∫ –æ—Ç–∫—Ä—ã—Ç—ã–π.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```java
void markOpened(Path file) {
    if (file == null) return;
    
    // –£–¥–∞–ª—è–µ–º —Ñ–∞–π–ª, –µ—Å–ª–∏ –æ–Ω —É–∂–µ –µ—Å—Ç—å (–¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –≤ –∫–æ–Ω–µ—Ü)
    recent.remove(file);
    
    // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∫–æ–Ω–µ—Ü
    recent.add(file);
    
    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —Å–ø–∏—Å–∫–∞
    while (recent.size() > limit) {
        Path first = recent.iterator().next();
        recent.remove(first);
    }
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –ï—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ –≤ —Å–ø–∏—Å–∫–µ - –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü (—Å–∞–º—ã–π –Ω–µ–¥–∞–≤–Ω–∏–π)
- ‚úÖ –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã, –µ—Å–ª–∏ –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç
- ‚úÖ FIFO –ø–æ—Ä—è–¥–æ–∫ (–ø–µ—Ä–≤—ã–π –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —É–¥–∞–ª—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º)

**–ü—Ä–∏–º–µ—Ä:**

```
limit = 5
recent = [A, B, C, D, E]

markOpened(B)
‚Üí recent = [A, C, D, E, B]  // B –ø–µ—Ä–µ–º–µ—â–µ–Ω –≤ –∫–æ–Ω–µ—Ü

markOpened(F)
‚Üí recent = [C, D, E, B, F]  // A —É–¥–∞–ª–µ–Ω, F –¥–æ–±–∞–≤–ª–µ–Ω
```

#### `list()`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–µ–¥–∞–≤–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤ (–æ—Ç –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º).

```java
List<Path> list() {
    List<Path> out = new ArrayList<>(recent);
    Collections.reverse(out);  // –†–µ–≤–µ—Ä—Å: –Ω–æ–≤—ã–µ ‚Üí —Å—Ç–∞—Ä—ã–µ
    return out;
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ—Ç –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ (–Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)

**–ü—Ä–∏–º–µ—Ä:**

```
recent = [A, B, C, D, E]  // A - —Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π, E - —Å–∞–º—ã–π –Ω–æ–≤—ã–π

list()
‚Üí [E, D, C, B, A]  // E - —Å–∞–º—ã–π –Ω–æ–≤—ã–π
```

---

## Go to Class/Symbol/File - –ù–∞–≤–∏–≥–∞—Ü–∏—è

### Go to Class

**–ú–µ—Ç–æ–¥:** `onGoToClass()` (`Ctrl+N`)

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```java
@FXML
public void onGoToClass() {
    goToFromIndex(
        Set.of(CodeElementType.CLASS, CodeElementType.INTERFACE), 
        "Go to Class"
    );
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—â–∏–π –º–µ—Ç–æ–¥ `goToFromIndex()`

### Go to Symbol

**–ú–µ—Ç–æ–¥:** `onGoToSymbol()` (`Ctrl+Alt+Shift+N`)

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```java
@FXML
public void onGoToSymbol() {
    goToFromIndex(
        Set.of(
            CodeElementType.CLASS, 
            CodeElementType.INTERFACE, 
            CodeElementType.METHOD
        ), 
        "Go to Symbol"
    );
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞—Å—Å—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –º–µ—Ç–æ–¥—ã
- ‚úÖ –ë–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–π –ø–æ–∏—Å–∫, —á–µ–º Go to Class

### Go to File

**–ú–µ—Ç–æ–¥:** `onGoToFile()` (`Ctrl+Shift+N`)

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```java
@FXML
public void onGoToFile() {
    if (projectRoot == null) {
        updateStatus("No project root set");
        return;
    }
    
    TextInputDialog d = new TextInputDialog();
    d.setTitle("Go to File");
    d.setHeaderText("Type part of file name");
    d.setContentText("File:");
    
    Optional<String> r = d.showAndWait();
    r.ifPresent(q -> {
        String s = q == null ? "" : q.trim().toLowerCase();
        if (s.isEmpty()) return;
        
        // –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–∞ –ø–æ –∏–º–µ–Ω–∏
        Path found = findFileByName(projectRoot, s);
        if (found != null) {
            openFileInEditor(found);
        } else {
            updateStatus("File not found");
        }
    });
}
```

#### `findFileByName(Path root, String needleLower)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Ö–æ–¥–∏—Ç —Ñ–∞–π–ª –ø–æ —á–∞—Å—Ç–∏ –∏–º–µ–Ω–∏.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```java
private static Path findFileByName(Path root, String needleLower) {
    try {
        return Files.walk(root, 20)
                .filter(Files::isRegularFile)
                .filter(p -> !CodeIndexer.shouldHidePath(p.getParent()))
                .filter(p -> {
                    String fileName = p.getFileName() != null 
                        ? p.getFileName().toString().toLowerCase() 
                        : "";
                    return fileName.contains(needleLower);
                })
                .findFirst()
                .orElse(null);
    } catch (Exception e) {
        return null;
    }
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ Case-insensitive –ø–æ–∏—Å–∫
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ —á–∞—Å—Ç–∏ –∏–º–µ–Ω–∏ (contains)
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–π –Ω–∞–π–¥–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
- ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å–∫—Ä—ã—Ç—ã–µ –ø–∞–ø–∫–∏

**–ü—Ä–∏–º–µ—Ä:**

```
needleLower = "main"

–ù–∞–π–¥–µ—Ç:
- Main.java
- MainActivity.java
- MainTest.java
```

### `goToFromIndex(Set<CodeElementType> types, String title)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±—â–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –∏–Ω–¥–µ–∫—Å—É.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```java
private void goToFromIndex(Set<CodeElementType> types, String title) {
    if (codeIndexer == null) {
        updateStatus("Index not ready");
        return;
    }
    
    Dialog<CodeElement> dialog = new Dialog<>();
    dialog.setTitle(title);
    dialog.setHeaderText(null);
    dialog.getDialogPane().getButtonTypes().addAll(ButtonType.OK, ButtonType.CANCEL);
    
    // –ü–æ–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
    TextField filter = new TextField();
    filter.setPromptText("Type to search...");
    
    // –°–ø–∏—Å–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    ListView<CodeElement> list = new ListView<>();
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–≤–æ–¥–∞
    filter.textProperty().addListener((o, a, b) -> {
        String q = b == null ? "" : b.trim();
        if (q.isEmpty()) {
            list.getItems().clear();
            return;
        }
        
        // –ü–æ–∏—Å–∫ –≤ –∏–Ω–¥–µ–∫—Å–µ
        List<CodeElement> found = codeIndexer.findCompletions(q).stream()
                .filter(e -> types.contains(e.getType()))  // –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É
                .limit(200)
                .toList();
        list.getItems().setAll(found);
    });
    
    // –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞
    list.setOnMouseClicked(e -> {
        if (e.getClickCount() == 2) {
            CodeElement selected = list.getSelectionModel().getSelectedItem();
            if (selected != null) {
                dialog.setResult(selected);
            }
        }
    });
    
    // Layout
    VBox vbox = new VBox(10, new Label("Search:"), filter, list);
    vbox.setPrefSize(500, 400);
    dialog.getDialogPane().setContent(vbox);
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    Optional<CodeElement> picked = dialog.showAndWait();
    picked.ifPresent(e -> openFileAndGoTo(e.getFile(), e.getLine()));
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ Real-time —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏ –≤–≤–æ–¥–µ
- ‚úÖ –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (200 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Ñ–∞–π–ª—É –∏ —Å—Ç—Ä–æ–∫–µ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ

#### `openFileAndGoTo(Path file, int line)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–µ.

```java
private void openFileAndGoTo(Path file, int line) {
    if (file == null) return;
    
    // –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞
    openFileInEditor(file);
    
    // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å—Ç—Ä–æ–∫–µ
    Platform.runLater(() -> {
        Tab tab = openTabsByPath.get(file.normalize().toAbsolutePath());
        if (tab == null) return;
        
        EditorTabData data = (EditorTabData) tab.getUserData();
        if (data == null || data.editor == null) return;
        
        int ln = Math.max(1, line);
        int para = ln - 1;  // 1-based ‚Üí 0-based
        
        if (para >= data.editor.getParagraphs().size()) {
            para = data.editor.getParagraphs().size() - 1;
        }
        
        // –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞
        data.editor.moveTo(para, 0);
        data.editor.requestFocus();
    });
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª, –µ—Å–ª–∏ –Ω–µ –æ—Ç–∫—Ä—ã—Ç
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–æ–∫—É—Å –Ω–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã (–Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ñ–∞–π–ª–∞)

---

## Find in Files - –ü–æ–∏—Å–∫ –ø–æ –ø—Ä–æ–µ–∫—Ç—É

**–ú–µ—Ç–æ–¥:** `onFindInFiles()` (`Ctrl+Shift+F`)

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**Find in Files** –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ —Ç–µ–∫—Å—Ç–∞ –ø–æ –≤—Å–µ–º —Ñ–∞–π–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞.

### –ê–ª–≥–æ—Ä–∏—Ç–º

```java
@FXML
public void onFindInFiles() {
    Dialog<Map<String, String>> dialog = new Dialog<>();
    dialog.setTitle("Find in Files");
    dialog.setHeaderText("Search for text in project files");
    
    ButtonType searchButton = new ButtonType("Search", ButtonBar.ButtonData.OK_DONE);
    dialog.getDialogPane().getButtonTypes().addAll(searchButton, ButtonType.CANCEL);
    
    // UI —ç–ª–µ–º–µ–Ω—Ç—ã
    GridPane grid = new GridPane();
    TextField searchField = new TextField();
    searchField.setPromptText("Enter text to search...");
    CheckBox caseSensitive = new CheckBox("Case sensitive");
    
    grid.add(new Label("Search:"), 0, 0);
    grid.add(searchField, 1, 0);
    grid.add(caseSensitive, 1, 1);
    
    dialog.getDialogPane().setContent(grid);
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    dialog.setResultConverter(buttonType -> {
        if (buttonType == searchButton) {
            Map<String, String> result = new HashMap<>();
            result.put("text", searchField.getText());
            result.put("caseSensitive", String.valueOf(caseSensitive.isSelected()));
            return result;
        }
        return null;
    });
    
    Optional<Map<String, String>> result = dialog.showAndWait();
    result.ifPresent(params -> {
        String searchText = params.get("text");
        boolean caseSensitive = Boolean.parseBoolean(params.get("caseSensitive"));
        
        if (searchText == null || searchText.trim().isEmpty()) {
            updateStatus("Search text is empty");
            return;
        }
        
        // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞
        performSearchInFiles(searchText, caseSensitive);
    });
}
```

### `performSearchInFiles(String searchText, boolean caseSensitive)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ –ø–æ —Ñ–∞–π–ª–∞–º.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```java
private void performSearchInFiles(String searchText, boolean caseSensitive) {
    if (projectRoot == null) {
        updateStatus("No project root set");
        return;
    }
    
    if (searchResultsList == null) return;
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    if (bottomPanel != null) {
        bottomPanel.setVisible(true);
        bottomPanel.setManaged(true);
    }
    if (bottomTabs != null) {
        bottomTabs.getSelectionModel().select(2);  // Search tab
    }
    
    // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    searchResultsList.getItems().clear();
    updateStatus("Searching: " + searchText);
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞
    String cacheKey = searchText.toLowerCase() + "|" + caseSensitive;
    if (searchCache.containsKey(cacheKey)) {
        List<Path> cached = searchCache.get(cacheKey);
        Platform.runLater(() -> {
            for (Path p : cached) {
                searchResultsList.getItems().add(new SearchHit(p, 0, ""));
            }
            updateStatus("Found " + cached.size() + " files (cached)");
        });
        return;
    }
    
    // –ü–æ–∏—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ
    Thread t = new Thread(() -> {
        List<SearchHit> hits = new ArrayList<>();
        List<Path> foundFiles = new ArrayList<>();
        
        try {
            Files.walk(projectRoot, 20)
                    .filter(Files::isRegularFile)
                    .filter(p -> !CodeIndexer.shouldHidePath(p.getParent()))
                    .forEach(file -> {
                        try {
                            String content = Files.readString(file, StandardCharsets.UTF_8);
                            String search = caseSensitive ? searchText : searchText.toLowerCase();
                            String fileContent = caseSensitive ? content : content.toLowerCase();
                            
                            // –ü–æ–∏—Å–∫ –≤—Ö–æ–∂–¥–µ–Ω–∏—è
                            if (fileContent.contains(search)) {
                                foundFiles.add(file);
                                
                                // –ü–æ–∏—Å–∫ —Å—Ç—Ä–æ–∫ —Å —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è–º–∏
                                String[] lines = content.split("\\R");
                                for (int i = 0; i < lines.length; i++) {
                                    String line = lines[i];
                                    String lineLower = caseSensitive ? line : line.toLowerCase();
                                    if (lineLower.contains(search)) {
                                        hits.add(new SearchHit(file, i + 1, line.trim()));
                                    }
                                }
                            }
                        } catch (Exception ignored) {
                        }
                    });
        } catch (Exception e) {
            Platform.runLater(() -> updateStatus("Search failed: " + e.getMessage()));
            return;
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
        Platform.runLater(() -> {
            searchResultsList.getItems().setAll(hits);
            searchCache.put(cacheKey, foundFiles);  // –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
            updateStatus("Found " + hits.size() + " matches in " + foundFiles.size() + " files");
        });
    }, "file-search");
    t.setDaemon(true);
    t.start();
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –ü–æ–∏—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI)
- ‚úÖ Case-sensitive/insensitive –ø–æ–∏—Å–∫
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏ —Å —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è–º–∏
- ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å–∫—Ä—ã—Ç—ã–µ –ø–∞–ø–∫–∏

### SearchHit

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞.

```java
private static final class SearchHit {
    private final Path file;      // –§–∞–π–ª
    private final int line;       // –ù–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏
    private final String preview; // –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–æ–∫–∏
    
    @Override
    public String toString() {
        return file.getFileName() + ":" + line + " - " + preview;
    }
}
```

**–§–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**

```
Main.java:10 - public static void main(String[] args) {
Utils.java:5 - private void calculate() {
```

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```java
if (searchResultsList != null) {
    searchResultsList.setOnMouseClicked(e -> {
        if (e.getClickCount() != 1) return;
        SearchHit hit = searchResultsList.getSelectionModel().getSelectedItem();
        if (hit == null) return;
        
        // –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å—Ç—Ä–æ–∫–µ
        openFileAndGoTo(hit.file, hit.line);
    });
}
```

---

## Find Usages - –ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π

**–ú–µ—Ç–æ–¥:** `onFindUsages()` (`Alt+F7`)

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**Find Usages** –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ.

### –ê–ª–≥–æ—Ä–∏—Ç–º

```java
@FXML
public void onFindUsages() {
    Tab tab = editorTabs.getSelectionModel().getSelectedItem();
    EditorTabData data = (EditorTabData) tab.getUserData();
    
    // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–ª–æ–≤–∞ –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º
    String initial = "";
    if (data != null && data.editor != null) {
        initial = wordAt(data.editor.getText(), data.editor.getCaretPosition());
        if (initial == null) initial = "";
    }
    
    // –î–∏–∞–ª–æ–≥ –¥–ª—è –≤–≤–æ–¥–∞ —Å–∏–º–≤–æ–ª–∞
    TextInputDialog d = new TextInputDialog(initial);
    d.setTitle("Find Usages");
    d.setHeaderText("Find usages in project");
    d.setContentText("Symbol:");
    
    Optional<String> res = d.showAndWait();
    res.ifPresent(sym -> {
        String s = sym == null ? "" : sym.trim();
        if (s.isEmpty()) return;
        findUsagesInProject(s);
    });
}
```

### `findUsagesInProject(String symbol)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–∞.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```java
private void findUsagesInProject(String symbol) {
    if (projectRoot == null) {
        updateStatus("No project root set");
        return;
    }
    if (searchResultsList == null) return;
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    if (bottomPanel != null) {
        bottomPanel.setVisible(true);
        bottomPanel.setManaged(true);
    }
    if (bottomTabs != null) {
        bottomTabs.getSelectionModel().select(2);  // Search tab
    }
    
    // Regex –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ü–µ–ª—ã—Ö —Å–ª–æ–≤
    Pattern pat = Pattern.compile("\\b" + Pattern.quote(symbol) + "\\b");
    searchResultsList.getItems().clear();
    updateStatus("Searching usages: " + symbol);
    
    // –ü–æ–∏—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ
    Thread t = new Thread(() -> {
        List<SearchHit> hits = new ArrayList<>();
        try {
            Files.walk(projectRoot, 20)
                    .filter(Files::isRegularFile)
                    .filter(p -> p.toString().endsWith(".java"))
                    .filter(p -> !CodeIndexer.shouldHidePath(p.getParent()))
                    .forEach(file -> {
                        try {
                            List<String> lines = Files.readAllLines(file, StandardCharsets.UTF_8);
                            for (int i = 0; i < lines.size(); i++) {
                                String ln = lines.get(i);
                                // –ü–æ–∏—Å–∫ —Ü–µ–ª—ã—Ö —Å–ª–æ–≤ (word boundary)
                                if (!pat.matcher(ln).find()) continue;
                                
                                String prev = ln.trim();
                                if (prev.length() > 80) prev = prev.substring(0, 77) + "...";
                                hits.add(new SearchHit(file, i + 1, prev));
                            }
                        } catch (Exception ignored) {
                        }
                    });
        } catch (Exception e) {
            Platform.runLater(() -> updateStatus("Search failed: " + e.getMessage()));
            return;
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
        Platform.runLater(() -> {
            searchResultsList.getItems().setAll(hits);
            updateStatus("Found " + hits.size() + " usages of " + symbol);
        });
    }, "find-usages");
    t.setDaemon(true);
    t.start();
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –ü–æ–∏—Å–∫ **—Ü–µ–ª—ã—Ö —Å–ª–æ–≤** (word boundary `\b`)
- ‚úÖ –¢–æ–ª—å–∫–æ Java —Ñ–∞–π–ª—ã
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏ —Å —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è–º–∏
- ‚úÖ –ü–æ–∏—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ

**Regex –ø–∞—Ç—Ç–µ—Ä–Ω:**

```java
Pattern.compile("\\b" + Pattern.quote(symbol) + "\\b")
```

- `\b` - word boundary (–Ω–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü —Å–ª–æ–≤–∞)
- `Pattern.quote()` - —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤

**–ü—Ä–∏–º–µ—Ä:**

```
symbol = "count"

–ù–∞–π–¥–µ—Ç:
- int count = 10;
- count++;
- return count;

–ù–ï –Ω–∞–π–¥–µ—Ç:
- counter (—á–∞—Å—Ç—å —Å–ª–æ–≤–∞)
- myCount (—á–∞—Å—Ç—å —Å–ª–æ–≤–∞)
```

---

## Go to Definition - –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é

**–ì–æ—Ä—è—á–∞—è –∫–ª–∞–≤–∏—à–∞:** `Ctrl+Click` –Ω–∞ —Å–∏–º–≤–æ–ª–µ

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**Go to Definition** –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é —Å–∏–º–≤–æ–ª–∞ –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º.

### –ê–ª–≥–æ—Ä–∏—Ç–º

```java
// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ Ctrl+Click –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
editor.addEventFilter(MouseEvent.MOUSE_CLICKED, e -> {
    if (!e.isControlDown()) return;
    
    int pos = editor.hit(e.getX(), e.getY()).getInsertionIndex();
    String word = wordAt(editor.getText(), pos);
    if (word == null || word.isBlank()) return;
    
    goToDefinition(word);
    e.consume();
});
```

### `goToDefinition(String symbol)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é —Å–∏–º–≤–æ–ª–∞.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```java
private void goToDefinition(String symbol) {
    if (codeIndexer == null || symbol == null || symbol.isBlank()) return;
    
    // –ü–æ–∏—Å–∫ –≤ –∏–Ω–¥–µ–∫—Å–µ
    List<CodeElement> hits = codeIndexer.findCompletions(symbol).stream()
            .filter(e -> e.getName().equals(symbol))  // –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
            .toList();
    
    if (hits.isEmpty()) {
        updateStatus("Definition not found: " + symbol);
        return;
    }
    
    // –í—ã–±–æ—Ä –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å - –≤—ã–±—Ä–∞—Ç—å –ª—É—á—à–∏–π)
    CodeElement best = hits.get(0);
    openFileAndGoTo(best.getFile(), best.getLine());
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `CodeIndexer` –¥–ª—è –ø–æ–∏—Å–∫–∞
- ‚úÖ –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∏–º–µ–Ω–∏ (case-sensitive)
- ‚úÖ –í—ã–±–∏—Ä–∞–µ—Ç –ø–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å - –≤—ã–±—Ä–∞—Ç—å –ª—É—á—à–∏–π –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É)

**–ü—Ä–∏–º–µ—Ä:**

```
User: Ctrl+Click on "Calculator"

codeIndexer.findCompletions("Calculator")
‚Üí [CodeElement(name="Calculator", type=CLASS, file=Calculator.java, line=1)]

openFileAndGoTo(Calculator.java, 1)
‚Üí Opens Calculator.java and moves to line 1
```

---

## Action Search - –ü–æ–∏—Å–∫ –¥–µ–π—Å—Ç–≤–∏–π

**–ú–µ—Ç–æ–¥:** `onActionSearch()` (`Ctrl+Shift+A`)

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**Action Search** –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ IDE.

### –ê–ª–≥–æ—Ä–∏—Ç–º

```java
@FXML
public void onActionSearch() {
    List<ActionItem> actions = buildActions();
    
    Dialog<ActionItem> dialog = new Dialog<>();
    dialog.setTitle("Action Search");
    dialog.setHeaderText(null);
    dialog.getDialogPane().getButtonTypes().addAll(ButtonType.OK, ButtonType.CANCEL);
    
    // –ü–æ–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
    TextField filter = new TextField();
    filter.setPromptText("Type action name...");
    
    // –°–ø–∏—Å–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π
    ListView<ActionItem> list = new ListView<>();
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–≤–æ–¥–∞
    filter.textProperty().addListener((o, a, b) -> {
        String q = b == null ? "" : b.trim().toLowerCase();
        if (q.isEmpty()) {
            list.getItems().setAll(actions.stream().limit(40).toList());
            return;
        }
        
        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏–π
        List<ActionItem> found = actions.stream()
                .filter(x -> x.name.toLowerCase().contains(q))
                .limit(200)
                .toList();
        list.getItems().setAll(found);
    });
    
    // –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞
    list.setOnMouseClicked(e -> {
        if (e.getClickCount() == 2) {
            ActionItem selected = list.getSelectionModel().getSelectedItem();
            if (selected != null) {
                dialog.setResult(selected);
            }
        }
    });
    
    // Layout
    VBox vbox = new VBox(10, new Label("Search:"), filter, list);
    vbox.setPrefSize(500, 400);
    dialog.getDialogPane().setContent(vbox);
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    Optional<ActionItem> picked = dialog.showAndWait();
    picked.ifPresent(item -> item.run.run());
}
```

### ActionItem

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ IDE.

```java
private static final class ActionItem {
    private final String name;    // –ò–º—è –¥–µ–π—Å—Ç–≤–∏—è
    private final Runnable run;   // –í—ã–ø–æ–ª–Ω—è–µ–º—ã–π –∫–æ–¥
    
    @Override
    public String toString() {
        return name;
    }
}
```

### `buildActions()`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.

```java
private List<ActionItem> buildActions() {
    List<ActionItem> a = new ArrayList<>();
    a.add(new ActionItem("Go to Class...", this::onGoToClass));
    a.add(new ActionItem("Go to Symbol...", this::onGoToSymbol));
    a.add(new ActionItem("Go to File...", this::onGoToFile));
    a.add(new ActionItem("Recent Files...", this::onRecentFiles));
    a.add(new ActionItem("Find Usages...", this::onFindUsages));
    a.add(new ActionItem("Find in Files...", this::onFindInFiles));
    a.add(new ActionItem("Debug Project", this::onDebugProject));
    a.add(new ActionItem("Rename...", this::onRename));
    // ... –∏ —Ç.–¥.
    return a;
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ Real-time —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏ –≤–≤–æ–¥–µ
- ‚úÖ Case-insensitive –ø–æ–∏—Å–∫
- ‚úÖ –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (200 –¥–µ–π—Å—Ç–≤–∏–π)

---

## –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: Go to Class

```
User: Presses Ctrl+N
    ‚îÇ
    ‚ñº
onGoToClass()
    ‚îÇ
    ‚îî‚îÄ‚Üí goToFromIndex(CLASS, INTERFACE, "Go to Class")
        ‚îÇ
        ‚îú‚îÄ‚Üí Dialog with TextField and ListView
        ‚îÇ
        ‚îî‚îÄ‚Üí User types "calc"
            ‚îÇ
            ‚ñº
codeIndexer.findCompletions("calc")
    ‚îÇ
    ‚îî‚îÄ‚Üí [CodeElement("Calculator", CLASS, ...), CodeElement("calculate", METHOD, ...)]
        ‚îÇ
        ‚îî‚îÄ‚Üí Filter by type (CLASS, INTERFACE)
            ‚îÇ
            ‚îî‚îÄ‚Üí [CodeElement("Calculator", CLASS, ...)]
                ‚îÇ
                ‚îî‚îÄ‚Üí User double-clicks
                    ‚îÇ
                    ‚ñº
openFileAndGoTo(Calculator.java, 1)
    ‚îÇ
    ‚îú‚îÄ‚Üí openFileInEditor(Calculator.java)
    ‚îî‚îÄ‚Üí Move cursor to line 1
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: Find Usages

```
User: Places caret on "count"
User: Presses Alt+F7
    ‚îÇ
    ‚ñº
onFindUsages()
    ‚îÇ
    ‚îú‚îÄ‚Üí wordAt() ‚Üí "count"
    ‚îú‚îÄ‚Üí Dialog: "Find usages: count"
    ‚îî‚îÄ‚Üí User confirms
        ‚îÇ
        ‚ñº
findUsagesInProject("count")
    ‚îÇ
    ‚îú‚îÄ‚Üí Pattern.compile("\\bcount\\b")
    ‚îî‚îÄ‚Üí Thread: Files.walk(projectRoot)
        ‚îÇ
        ‚îú‚îÄ‚Üí For each .java file:
        ‚îÇ   ‚îú‚îÄ‚Üí Read lines
        ‚îÇ   ‚îî‚îÄ‚Üí Pattern.matcher(line).find()
        ‚îÇ       ‚îî‚îÄ‚Üí If match: SearchHit(file, line, preview)
        ‚îÇ
        ‚îî‚îÄ‚Üí Platform.runLater()
            ‚îÇ
            ‚îî‚îÄ‚Üí searchResultsList.setItems(hits)
                ‚îÇ
                ‚îî‚îÄ‚Üí User clicks on result
                    ‚îÇ
                    ‚ñº
openFileAndGoTo(file, line)
    ‚îÇ
    ‚îî‚îÄ‚Üí Opens file and moves to line
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: Go to Definition (Ctrl+Click)

```
User: Ctrl+Click on "Calculator" in code
    ‚îÇ
    ‚ñº
MouseEvent handler
    ‚îÇ
    ‚îú‚îÄ‚Üí wordAt() ‚Üí "Calculator"
    ‚îî‚îÄ‚Üí goToDefinition("Calculator")
        ‚îÇ
        ‚îú‚îÄ‚Üí codeIndexer.findCompletions("Calculator")
        ‚îÇ   ‚îî‚îÄ‚Üí [CodeElement("Calculator", CLASS, Calculator.java, 1)]
        ‚îÇ
        ‚îî‚îÄ‚Üí Filter: e.getName().equals("Calculator")
            ‚îÇ
            ‚îî‚îÄ‚Üí [CodeElement("Calculator", CLASS, Calculator.java, 1)]
                ‚îÇ
                ‚îî‚îÄ‚Üí openFileAndGoTo(Calculator.java, 1)
                    ‚îÇ
                    ‚îî‚îÄ‚Üí Opens Calculator.java and moves to line 1
```

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è

### –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

#### 1. CodeIndexer

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**

- ‚ùå –ü—Ä–æ—Å—Ç–æ–π regex –ø–∞—Ä—Å–∏–Ω–≥ (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤)
- ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã
- ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç generics
- ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏

**–£–ª—É—á—à–µ–Ω–∏—è:**

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AST –ø–∞—Ä—Å–µ—Ä (JavaParser, Eclipse JDT)
- –£—á–∏—Ç—ã–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã
- –£—á–∏—Ç—ã–≤–∞—Ç—å generics (`List<String>`)
- –£—á–∏—Ç—ã–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏

#### 2. Find Usages

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**

- ‚ùå –ü—Ä–æ—Å—Ç–æ–π regex –ø–æ–∏—Å–∫ (–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –Ω–µ —Ç–æ)
- ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç scope –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚ùå –ù–µ —Ä–∞–∑–ª–∏—á–∞–µ—Ç –ø–æ–ª—è –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

**–£–ª—É—á—à–µ–Ω–∏—è:**

- AST-based –ø–æ–∏—Å–∫
- –£—á–µ—Ç scope
- –†–∞–∑–ª–∏—á–µ–Ω–∏–µ –ø–æ–ª–µ–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

#### 3. Go to Definition

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**

- ‚ùå –í—ã–±–∏—Ä–∞–µ—Ç –ø–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ç–æ—Ç)
- ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç (–∏–º–ø–æ—Ä—Ç—ã, package)
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø–æ–ª–µ–π –æ–±—ä–µ–∫—Ç–æ–≤ (`obj.field`)

**–£–ª—É—á—à–µ–Ω–∏—è:**

- –í—ã–±–æ—Ä –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- –£—á–µ—Ç –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ package
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–µ–π –æ–±—ä–µ–∫—Ç–æ–≤

#### 4. Find in Files

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**

- ‚ùå –ü—Ä–æ—Å—Ç–æ–π contains –ø–æ–∏—Å–∫ (–Ω–µ—Ç regex)
- ‚ùå –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ç–∏–ø—É —Ñ–∞–π–ª–æ–≤
- ‚ùå –ù–µ—Ç –∑–∞–º–µ–Ω—ã (—Ç–æ–ª—å–∫–æ –ø–æ–∏—Å–∫)

**–£–ª—É—á—à–µ–Ω–∏—è:**

- Regex –ø–æ–∏—Å–∫
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É —Ñ–∞–π–ª–æ–≤ (`.java`, `.xml`, –∏ —Ç.–¥.)
- Replace in Files

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **AST-based –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ JavaParser –∏–ª–∏ Eclipse JDT
   - –¢–æ—á–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–¥–∞
   - –£—á–µ—Ç scope –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

2. **–£–ª—É—á—à–µ–Ω–Ω—ã–π Find Usages:**
   - AST-based –ø–æ–∏—Å–∫
   - –£—á–µ—Ç scope
   - –†–∞–∑–ª–∏—á–µ–Ω–∏–µ –ø–æ–ª–µ–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

3. **–£–ª—É—á—à–µ–Ω–Ω—ã–π Go to Definition:**
   - –í—ã–±–æ—Ä –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
   - –£—á–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–µ–π –æ–±—ä–µ–∫—Ç–æ–≤

4. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π Find in Files:**
   - Regex –ø–æ–∏—Å–∫
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É —Ñ–∞–π–ª–æ–≤
   - Replace in Files

---

## –†–µ–∑—é–º–µ

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Navigation & Search Layer:

1. ‚úÖ **CodeIndexer** - –±—ã—Å—Ç—Ä–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∫–æ–¥–∞ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
2. ‚úÖ **Go to Class/Symbol/File** - –±—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º
3. ‚úÖ **Find in Files** - –ø–æ–∏—Å–∫ —Ç–µ–∫—Å—Ç–∞ –ø–æ –ø—Ä–æ–µ–∫—Ç—É
4. ‚úÖ **Find Usages** - –ø–æ–∏—Å–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π —Å–∏–º–≤–æ–ª–∞
5. ‚úÖ **Go to Definition** - –ø–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é (Ctrl+Click)
6. ‚úÖ **Recent Files** - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–¥–∞–≤–Ω–∏–º —Ñ–∞–π–ª–∞–º
7. ‚úÖ **Action Search** - –ø–æ–∏—Å–∫ –¥–µ–π—Å—Ç–≤–∏–π IDE

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

- **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è:** Regex –ø–∞—Ä—Å–∏–Ω–≥ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –º–µ—Ç–æ–¥–æ–≤
- **–ü–æ–∏—Å–∫:** Word boundary –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –∫—ç—à–∏—Ä—É—é—Ç—Å—è
- **–§–æ–Ω–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏:** –ü–æ–∏—Å–∫ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

- ‚úÖ In-memory –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- ‚úÖ –§–æ–Ω–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø–æ–∏—Å–∫–æ–≤
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (200 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2026-01-20  
**–§–∞–π–ª:** `Documents/06-Navigation-Search-Layer.md`
